{% extends 'base.html' %}
{% load static %}

{% block content %}
  <link rel="stylesheet" href="{% static 'editor.css' %}">
  {% if user.is_superuser %}
    <a class="btn btn-success" href="/admin/problems/problem/{{ problem.id }}/change/">Edit</a>
    <br><br>
  {% endif %}
  <h2>{{ problem.name|title }}</h2>
  <br>
  <div class="card">
    <h3 class="card-body">Description:</h3>
    <fieldset disabled class="card-body">
      <textarea id="note1" class="form-control" readonly>{{ problem.description }}</textarea>
    </fieldset>
    {% if problem.constraints %}
      <h3 class="card-body">Constraints:</h3>
      <fieldset disabled class="card-body">
        <textarea id="note2" class="form-control" readonly>{{ problem.constraints }}</textarea>
      </fieldset>
    {% endif %}
    {% if problem.example %}
      <h3 class="card-body text-left">Examples:</h3>
      <fieldset disabled class="card-body">
        <textarea id="note3" class="form-control" readonly>{{ problem.example }}</textarea>
      </fieldset>
    {% endif %}
    <br>
    <form action="{% url 'send' problem.name %}" method="POST" class="card-body">
      {% csrf_token %}
      <input type="Submit" value="Submit" class="btn btn-success">
      <button type="button" class="btn btn-success" onclick="display();">X</button>
      <div class="container">
        <div id="editor">{{ problem.template }}</div>
      </div>
    </form>
  </div>
  <br><br>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.23.4/ace.js" integrity="sha512-W2EhLZb9bxEATRhug+NU1OHCaM0hovRJbR7BvUNEytEWYJKxZiL4fGz3tiPpid0nycdwW7EnGlSonxvrs+EU6g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="{% static 'script.js' %}"></script>
{% endblock %}
